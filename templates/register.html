{% extends 'index.html' %}
{% block content %}
    <div class="d-grid m-5">
        <form action="/register" method="post" class="row g-3 needs-validation" novalidate>
            <div class="row g-2 input-group">
                <div class="col-md">
                    <label for="firstName" class="form-label">First Name</label>
                    <input type="text"
                           class="form-control"
                           name="firstName"
                           id="firstName"
                           placeholder="First"
                           oninput="updateAssetName()"
                           required>
                    <div class="valid-feedback">Looks good!</div>
                    <div class="invalid-feedback">Looks bad!</div>
                </div>
                <div class="col-md">
                    <label for="lastName" class="form-label">Last Name</label>
                    <input type="text"
                           class="form-control"
                           name="lastName"
                           id="lastName"
                           placeholder="Last"
                           hx-post="/register/v/last-name"
                           hx-trigger="keyup changed delay:500ms"
                           required>
                    <div class="valid-feedback">Looks good!</div>
                    <div class="invalid-feedback">Looks bad!</div>
                </div>
            </div>
            <div class="row g-2 input-group">
                <div class="col-md">
                    <label for="email" class="form-label">Email Address</label>
                    <input type="email"
                           class="form-control"
                           name="email"
                           id="email"
                           placeholder="Email"
                           hx-post="/register/v/email"
                           hx-trigger="keyup changed delay:500ms"
                           required>
                    <div class="valid-feedback">Looks good!</div>
                    <div class="invalid-feedback">Looks bad!</div>
                </div>
                <div class="col-md">
                    <label for="assetName" class="form-label">Asset Name</label>
                    <input type="text"
                           class="form-control"
                           name="assetName"
                           id="assetName"
                           placeholder="Asset"
                           hx-post="/register/v/asset-name"
                           hx-trigger="keyup changed delay:500ms"
                           oninput="disableAutoUpdate(event)"
                           required>
                    <div class="valid-feedback">Looks good!</div>
                    <div class="invalid-feedback">Looks bad!</div>
                </div>
            </div>
            <div class="row g-2 input-group">
                <div class="col-md">
                    <label for="phoneNumber" class="form-label">Phone Number</label>
                    <span class="input-group-text" id="basic-addon1">+1</span>
                    <input type="tel"
                           class="form-control"
                           name="phoneNumber"
                           id="phoneNumber"
                           hx-post="/register/v/phone-number"
                           hx-trigger="keyup changed delay:500ms"
                           placeholder="Phone #">
                    <div class="valid-feedback">Looks good!</div>
                    <div class="invalid-feedback">Invalid phone #.</div>
                </div>
                <div class="col-md">
                    <label for="imei" class="form-label">IMEI Number</label>
                    {% if imei %}
                        <input type="number"
                               class="form-control"
                               name="imei"
                               id="imei"
                               placeholder="IMEI #"
                               value="{{ imei }}"
                               hx-post="/register/v/imei"
                               hx-trigger="keyup changed delay:500ms"
                               required>
                    {% else %}
                        <input type="number"
                               class="form-control"
                               name="imei"
                               id="imei"
                               placeholder="IMEI #"
                               hx-post="/register/v/imei"
                               hx-trigger="keyup changed delay:500ms"
                               required>
                    {% endif %}
                    <div class="valid-feedback">Looks good!</div>
                    <div class="invalid-feedback">IMEI # not found.</div>
                </div>
            </div>
            <div id="optionalFields" class="d-none row input-group">
                <div class="col-md">
                    <label for="vin" class="form-label">
                        VIN Number <i>*Optional</i>
                    </label>
                    <input type="text"
                           class="form-control"
                           name="vin"
                           id="vin"
                           placeholder="VIN #">
                </div>
                <div class="invalid-feedback">Looks bad!</div>
                <div class="col-md">
                    <label for="test" class="form-label">
                        Test Field <i>*Optional</i>
                    </label>
                    <input type="text"
                           class="form-control"
                           name="testField"
                           id="testField"
                           placeholder="Test">
                </div>
            </div>
            <div class="row g-2">
                <button type="button"
                        class="btn btn-secondary"
                        id="toggle"
                        onclick="toggleOptionalFields()">Show Options</button>
                <button type="submit" class="btn btn-primary" id="register">Register</button>
            </div>
        </form>
    </div>
    <script src="{{ url_for('static', filename='/main/main.js') }}"</script>
{% endblock %}
